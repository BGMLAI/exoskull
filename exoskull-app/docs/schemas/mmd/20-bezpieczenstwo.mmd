graph TB
    subgraph LAYERS["ğŸ›¡ï¸ Warstwy bezpieczeÅ„stwa ExoSkull"]
        subgraph L1["ğŸ”‘ 1. Autentykacja"]
            AUTH["Supabase Auth<br/>JWT tokeny<br/>OAuth dla integracji"]
        end

        subgraph L2["ğŸ”’ 2. Izolacja danych"]
            RLS["Row Level Security<br/>KaÅ¼dy widzi TYLKO<br/>swoje dane"]
        end

        subgraph L3["ğŸ” 3. Szyfrowanie"]
            ENC["AES-256 (dane w spoczynku)<br/>TLS 1.3 (dane w ruchu)<br/>Tokeny w Vault"]
        end

        subgraph L4["âš ï¸ 4. Limity"]
            LIM["100 req/h per user<br/>Circuit breaker (3 bÅ‚Ä™dy)<br/>Rate limiting API"]
        end

        subgraph L5["ğŸ†˜ 5. BezpieczeÅ„stwo kryzysowe"]
            CRISIS["Wykrywanie kryzysu<br/>â†’ Hotline 116 123<br/>â†’ Kontakt alarmowy<br/>NIGDY nie diagnozuj"]
        end

        subgraph L6["âš–ï¸ 6. Etyka"]
            ETHICS["Nigdy nie manipuluj<br/>Nigdy nie diagnozuj medycznie<br/>PrzejrzystoÅ›Ä‡ zbierania danych<br/>Prawo do usuniÄ™cia"]
        end
    end

    L1 --> L2 --> L3 --> L4 --> L5 --> L6

    subgraph RULES["ğŸš« NIGDY nie rÃ³b"]
        R1["Nie udostÄ™pniaj danych"]
        R2["Nie usuwaj bez 3x potwierdzenia"]
        R3["Nie wydawaj pieniÄ™dzy bez zgody"]
        R4["Nie kontaktuj obcych bez zgody"]
    end

    style LAYERS fill:#1e1e2e,stroke:#6366f1,color:#fff
    style L1 fill:#3b82f6,stroke:#2563eb,color:#fff
    style L2 fill:#8b5cf6,stroke:#7c3aed,color:#fff
    style L3 fill:#a855f7,stroke:#9333ea,color:#fff
    style L4 fill:#f59e0b,stroke:#d97706,color:#000
    style L5 fill:#ef4444,stroke:#dc2626,color:#fff
    style L6 fill:#22c55e,stroke:#16a34a,color:#fff
    style RULES fill:#374151,stroke:#ef4444,color:#fff
